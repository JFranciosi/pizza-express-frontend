<div class="top-bar">
    <div class="brand">
        <img src="/assets/logo_full.png" alt="Pizza Express Logo" class="brand-logo" width="130" height="65"
            fetchpriority="high" loading="eager" />
    </div>

    <div class="actions">
        @if (user) {
        <div class="user-info mr-3">
            <div class="username-container">
                <span class="username">{{ user.username }}</span>
            </div>

            <div class="stats-container">
                <div class="stat-pill neutral">
                    <span class="label">BET</span>
                    <span class="value">{{ lastBet | currency:'EUR' }}</span>
                </div>
                <!-- Only show Last Win if > 0 -->
                <div class="stat-pill success" [style.opacity]="lastWin > 0 ? 1 : 0.3">
                    <span class="label">WIN</span>
                    <span class="value">+{{ lastWin | currency:'EUR' }}</span>
                </div>
            </div>

            <div class="balance-container">
                <span class="user-balance">{{ user.balance | currency:'EUR' }}</span>
            </div>
        </div>
        }

        <p-button icon="pi pi-sign-out"
            styleClass="logout-btn p-button-danger p-button-text p-button-rounded p-button-sm ml-2"
            (onClick)="onLogout()"></p-button>
    </div>
</div>